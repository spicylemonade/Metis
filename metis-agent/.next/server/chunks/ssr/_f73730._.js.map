{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/nolan/Documents/code/auto-agent/metis-agent/app/page.tsx"],"sourcesContent":["// components/ScreenCaptureWidget.tsx\n\"use client\";\n\nimport React, { useState, useRef } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { MonitorOff } from \"lucide-react\";\n\nexport default function ScreenCaptureWidget() {\n  const [recording, setRecording] = useState(false);\n  const [screenshot, setScreenshot] = useState<string | null>(null);\n  const [screenStream, setScreenStream] = useState<MediaStream | null>(null);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const captureIntervalRef = useRef<number | null>(null);\n\n  const startScreenshotCapture = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getDisplayMedia({ video: true });\n      setScreenStream(stream);\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        videoRef.current.onloadedmetadata = () => {\n          videoRef.current?.play().catch(console.error);\n        };\n      }\n      if (!canvasRef.current) {\n        canvasRef.current = document.createElement(\"canvas\");\n      }\n      captureIntervalRef.current = window.setInterval(() => {\n        if (videoRef.current && canvasRef.current) {\n          const video = videoRef.current;\n          const canvas = canvasRef.current;\n          if (video.videoWidth && video.videoHeight) {\n            canvas.width = video.videoWidth;\n            canvas.height = video.videoHeight;\n            const ctx = canvas.getContext(\"2d\");\n            if (ctx) {\n              ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n              const dataUrl = canvas.toDataURL(\"image/png\");\n              setScreenshot(dataUrl);\n            }\n          }\n        }\n      }, 333);\n      setRecording(true);\n    } catch (err) {\n      console.error(\"Error starting capture:\", err);\n    }\n  };\n\n  const stopScreenshotCapture = () => {\n    if (captureIntervalRef.current) {\n      window.clearInterval(captureIntervalRef.current);\n      captureIntervalRef.current = null;\n    }\n    if (screenStream) {\n      screenStream.getTracks().forEach((track) => track.stop());\n      setScreenStream(null);\n    }\n    setScreenshot(null);\n    setRecording(false);\n  };\n\n  const handleToggle = () => {\n    if (recording) {\n      stopScreenshotCapture();\n    } else {\n      startScreenshotCapture();\n    }\n  };\n\n  return (\n    <div className=\"p-4\">\n      <div className=\"w-full h-64 border rounded-lg flex items-center justify-center bg-black\">\n        {recording && screenshot ? (\n          <img\n            src={screenshot}\n            alt=\"Screenshot\"\n            className=\"w-full h-full object-cover rounded-lg\"\n          />\n        ) : (\n          <MonitorOff className=\"w-16 h-16 text-muted-foreground\" />\n        )}\n      </div>\n      <Button onClick={handleToggle} className=\"mt-4 w-full\">\n        {recording ? \"Stop Capture\" : \"Start Capture\"}\n      </Button>\n      {/* Hidden video element */}\n      <video ref={videoRef} style={{ display: \"none\" }} />\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;AAGrC;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAC5D,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAsB;IACrE,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAoB;IAC1C,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAA4B;IACnD,MAAM,qBAAqB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAiB;IAEjD,MAAM,yBAAyB;QAC7B,IAAI;YACF,MAAM,SAAS,MAAM,UAAU,YAAY,CAAC,eAAe,CAAC;gBAAE,OAAO;YAAK;YAC1E,gBAAgB;YAChB,IAAI,SAAS,OAAO,EAAE;gBACpB,SAAS,OAAO,CAAC,SAAS,GAAG;gBAC7B,SAAS,OAAO,CAAC,gBAAgB,GAAG;oBAClC,SAAS,OAAO,EAAE,OAAO,MAAM,QAAQ,KAAK;gBAC9C;YACF;YACA,IAAI,CAAC,UAAU,OAAO,EAAE;gBACtB,UAAU,OAAO,GAAG,SAAS,aAAa,CAAC;YAC7C;YACA,mBAAmB,OAAO,GAAG,OAAO,WAAW,CAAC;gBAC9C,IAAI,SAAS,OAAO,IAAI,UAAU,OAAO,EAAE;oBACzC,MAAM,QAAQ,SAAS,OAAO;oBAC9B,MAAM,SAAS,UAAU,OAAO;oBAChC,IAAI,MAAM,UAAU,IAAI,MAAM,WAAW,EAAE;wBACzC,OAAO,KAAK,GAAG,MAAM,UAAU;wBAC/B,OAAO,MAAM,GAAG,MAAM,WAAW;wBACjC,MAAM,MAAM,OAAO,UAAU,CAAC;wBAC9B,IAAI,KAAK;4BACP,IAAI,SAAS,CAAC,OAAO,GAAG,GAAG,OAAO,KAAK,EAAE,OAAO,MAAM;4BACtD,MAAM,UAAU,OAAO,SAAS,CAAC;4BACjC,cAAc;wBAChB;oBACF;gBACF;YACF,GAAG;YACH,aAAa;QACf,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,MAAM,wBAAwB;QAC5B,IAAI,mBAAmB,OAAO,EAAE;YAC9B,OAAO,aAAa,CAAC,mBAAmB,OAAO;YAC/C,mBAAmB,OAAO,GAAG;QAC/B;QACA,IAAI,cAAc;YAChB,aAAa,SAAS,GAAG,OAAO,CAAC,CAAC,QAAU,MAAM,IAAI;YACtD,gBAAgB;QAClB;QACA,cAAc;QACd,aAAa;IACf;IAEA,MAAM,eAAe;QACnB,IAAI,WAAW;YACb;QACF,OAAO;YACL;QACF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACZ,aAAa,2BACZ,8OAAC;oBACC,KAAK;oBACL,KAAI;oBACJ,WAAU;;;;;yCAGZ,8OAAC,kNAAA,CAAA,aAAU;oBAAC,WAAU;;;;;;;;;;;0BAG1B,8OAAC,2HAAA,CAAA,SAAM;gBAAC,SAAS;gBAAc,WAAU;0BACtC,YAAY,iBAAiB;;;;;;0BAGhC,8OAAC;gBAAM,KAAK;gBAAU,OAAO;oBAAE,SAAS;gBAAO;;;;;;;;;;;;AAGrD"}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"file":"monitor-off.js","sources":["file://C%3A/Users/nolan/Documents/code/auto-agent/metis-agent/node_modules/lucide-react/src/icons/monitor-off.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M17 17H4a2 2 0 0 1-2-2V5c0-1.5 1-2 1-2', key: 'k0q8oc' }],\n  ['path', { d: 'M22 15V5a2 2 0 0 0-2-2H9', key: 'cp1ac0' }],\n  ['path', { d: 'M8 21h8', key: '1ev6f3' }],\n  ['path', { d: 'M12 17v4', key: '1riwvh' }],\n  ['path', { d: 'm2 2 20 20', key: '1ooewy' }],\n];\n\n/**\n * @component @name MonitorOff\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTcgMTdINGEyIDIgMCAwIDEtMi0yVjVjMC0xLjUgMS0yIDEtMiIgLz4KICA8cGF0aCBkPSJNMjIgMTVWNWEyIDIgMCAwIDAtMi0ySDkiIC8+CiAgPHBhdGggZD0iTTggMjFoOCIgLz4KICA8cGF0aCBkPSJNMTIgMTd2NCIgLz4KICA8cGF0aCBkPSJtMiAyIDIwIDIwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/monitor-off\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MonitorOff = createLucideIcon('MonitorOff', __iconNode);\n\nexport default MonitorOff;\n"],"names":[],"mappings":";;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAuB,CAAA,CAAA,CAAA,CAAA;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAA0C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IACvE;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAA4B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IACzD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAAW,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IACxC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IACzC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;CAC7C,CAAA;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAa,CAAA,wKAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAiB,CAAjB,CAAA,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAc,CAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA","ignoreList":[0]}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}